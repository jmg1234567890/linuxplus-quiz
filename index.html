
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Linux+ XK0-005 Practice Test</title>
  <style>
    body { font-family: sans-serif; margin: 2rem; background: #f7f7f7; }
    .quiz-container { max-width: 800px; margin: auto; background: white; padding: 2rem; border-radius: 8px; box-shadow: 0 0 10px rgba(0,0,0,0.1); }
    .question { margin-bottom: 1.5rem; }
    .choices label { display: block; margin: 0.5rem 0; cursor: pointer; }
    .explanation { display: none; margin-top: 1rem; font-style: italic; color: green; }
    .correct { color: green; font-weight: bold; }
    .wrong { color: red; font-weight: bold; }
    button { margin-top: 1rem; padding: 0.5rem 1rem; font-size: 1rem; }
    .progress, .timer { margin-top: 1rem; font-size: 1rem; }
    @media (max-width: 600px) {
      body { margin: 1rem; font-size: 16px; }
      .quiz-container { padding: 1rem; }
      button { width: 100%; }
    }
  </style>
</head>
<body>
  <div class="quiz-container">
    <div id="quiz"></div>
    <div class="progress" id="progress"></div>
    <div class="timer" id="timer"></div>
    <button onclick="nextQuestion()">Next Question</button>
  </div>
  <script>
    const questions = [{"question": "What command is used to list the contents of a directory in Linux?", "choices": {"A": "pwd", "B": "ls", "C": "cd", "D": "mv"}, "answer": "B", "explanation": "The 'ls' command lists files and directories in the current directory."}, {"question": "Which command is used to change file permissions in Linux?", "choices": {"A": "chmod", "B": "chperm", "C": "permchange", "D": "setperm"}, "answer": "A", "explanation": "The 'chmod' command changes the file mode (permissions)."}, {"question": "Which directory contains configuration files in a Linux system?", "choices": {"A": "/etc", "B": "/bin", "C": "/home", "D": "/lib"}, "answer": "A", "explanation": "The /etc directory contains configuration files."}];

    let current = 0;
    let score = 0;
    let answered = false;
    let startTime = Date.now();

    function escapeHtml(text) {
      return text.replace(/&/g, "&amp;")
                 .replace(/</g, "&lt;")
                 .replace(/>/g, "&gt;")
                 .replace(/"/g, "&quot;")
                 .replace(/'/g, "&#039;");
    }

    function renderQuestion() {
      const q = questions[current];
      const quizDiv = document.getElementById("quiz");
      answered = false;
      let html = `<div class='question'><strong>Question ${current + 1} of ${questions.length}:</strong> ${escapeHtml(q.question)}</div>`;
      html += `<div class='choices'>`;
      for (const key in q.choices) {
        const safeExplanation = escapeHtml(q.explanation);
        html += `<label><input type='radio' name='choice' value='${key}' onchange='checkAnswer("${q.answer}", "${key}", "${safeExplanation}")' /> ${key}. ${escapeHtml(q.choices[key])}</label>`;
      }
      html += `</div><div id='explanation' class='explanation'></div>`;
      quizDiv.innerHTML = html;
      updateProgress();
    }

    function checkAnswer(correct, selected, explanation) {
      if (answered) return;
      const exp = document.getElementById("explanation");
      if (selected === correct) {
        exp.innerHTML = `<div class='correct'>Correct! ${explanation}</div>`;
        score++;
      } else {
        exp.innerHTML = `<div class='wrong'>Wrong. ${explanation}</div>`;
      }
      exp.style.display = 'block';
      answered = true;
      updateProgress();
    }

    function updateProgress() {
      const progress = document.getElementById("progress");
      progress.textContent = `Score: ${score} / ${questions.length} | Current: ${current + 1} of ${questions.length}`;
    }

    function nextQuestion() {
      if (current < questions.length - 1) {
        current++;
        renderQuestion();
      } else {
        const timeTaken = Math.floor((Date.now() - startTime) / 1000);
        const minutes = Math.floor(timeTaken / 60);
        const seconds = timeTaken % 60;
        document.getElementById("quiz").innerHTML = `<strong>You completed the practice test!</strong><br/>Final Score: ${score} out of ${questions.length}<br/>Time Taken: ${minutes}m ${seconds}s`;
        document.getElementById("progress").style.display = 'none';
        document.getElementById("timer").style.display = 'none';
      }
    }

    function updateTimer() {
      const now = Date.now();
      const diff = Math.floor((now - startTime) / 1000);
      const minutes = Math.floor(diff / 60);
      const seconds = diff % 60;
      document.getElementById("timer").textContent = `Time Elapsed: ${minutes}m ${seconds}s`;
    }

    setInterval(updateTimer, 1000);
    renderQuestion();
  </script>
</body>
</html>
