
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Linux+ XK0-005 Practice Quiz</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <style>
    body { font-family: Arial, sans-serif; background-color: #f9f9f9; padding: 20px; }
    h1, h2 { text-align: center; }
    .question { background: white; padding: 15px; margin-bottom: 20px; border-radius: 10px; box-shadow: 0 0 10px rgba(0,0,0,0.1); }
    .choices label { display: block; margin-bottom: 8px; }
    .controls { text-align: center; margin-bottom: 20px; }
    .feedback { margin-top: 10px; font-weight: bold; }
    .correct { color: green; }
    .incorrect { color: red; }
    .explanation { margin-top: 10px; font-style: italic; color: #555; display: none; }
    .progress-container { width: 100%; background: #eee; border-radius: 8px; overflow: hidden; margin: 20px 0; }
    .progress-bar { width: 0; height: 20px; background: #4caf50; }
    .timer { font-size: 1.1em; color: #333; }
  </style>
</head>
<body>
  <h1>Linux+ XK0-005 Practice Quiz</h1>
  <div class="controls">
    <button onclick="startQuiz(90)">Start 90-Question Quiz</button>
    <button onclick="startQuiz(307)">Start Full 307-Question Quiz</button><br><br>
    <label><input type="checkbox" id="toggle-timer" checked> Show Timer</label>
    <div id="score-display"></div>
    <div class="timer" id="timer-display"></div>
    <div class="progress-container"><div class="progress-bar" id="progress-bar"></div></div>
  </div>
  <div id="quiz"></div>
  <script>
    const allQuestions = [];
    let currentQuestions = [];
    let score = 0;
    let quizStarted = false;
    let startTime;
    let timerInterval;

    function shuffle(array) {
      return array.sort(() => Math.random() - 0.5);
    }

    function startQuiz(count) {
      currentQuestions = shuffle(allQuestions).slice(0, count);
      score = 0;
      quizStarted = true;
      renderQuiz();
      updateScore();
      startTimer();
    }

    function startTimer() {
      clearInterval(timerInterval);
      if (!document.getElementById("toggle-timer").checked) {
        document.getElementById("timer-display").innerText = "";
        return;
      }
      startTime = Date.now();
      timerInterval = setInterval(() => {
        const now = Date.now();
        const diff = Math.floor((now - startTime) / 1000);
        const minutes = Math.floor(diff / 60);
        const seconds = diff % 60;
        document.getElementById("timer-display").innerText = `‚è±Ô∏è Time: ${minutes}m ${seconds}s`;
      }, 1000);
    }

    function renderQuiz() {
      const quizDiv = document.getElementById("quiz");
      quizDiv.innerHTML = "";
      currentQuestions.forEach((q, index) => {
        const qDiv = document.createElement("div");
        qDiv.className = "question";

        const qText = document.createElement("p");
        qText.innerText = (index + 1) + ". " + q.question;

        const choices = document.createElement("div");
        choices.className = "choices";

        q.choices.forEach((choice, i) => {
          const label = document.createElement("label");
          const input = document.createElement("input");
          input.type = "checkbox";
          input.name = "q" + index;
          input.value = i;
          label.appendChild(input);
          label.appendChild(document.createTextNode(" " + choice));
          choices.appendChild(label);
        });

        const checkBtn = document.createElement("button");
        checkBtn.innerText = "Check Answer";
        checkBtn.onclick = () => {
          const selected = qDiv.querySelectorAll("input[type=checkbox]:checked");
          const feedback = qDiv.querySelector(".feedback");
          const explanation = qDiv.querySelector(".explanation");
          const correctAnswers = q.correct.sort().toString();
          const selectedValues = Array.from(selected).map(s => parseInt(s.value)).sort().toString();

          if (selected.length === 0) {
            feedback.textContent = "‚ùå Please select at least one answer.";
            feedback.className = "feedback incorrect";
          } else if (selectedValues === correctAnswers) {
            feedback.textContent = "‚úÖ Correct!";
            feedback.className = "feedback correct";
            if (!qDiv.dataset.answered) {
              score++;
              updateScore();
              qDiv.dataset.answered = true;
              updateProgressBar();
            }
          } else {
            feedback.textContent = "‚ùå Incorrect.";
            feedback.className = "feedback incorrect";
          }
          explanation.style.display = "block";
        };

        const feedback = document.createElement("div");
        feedback.className = "feedback";

        const explanation = document.createElement("div");
        explanation.className = "explanation";
        explanation.textContent = "üí° Explanation: " + q.explanation;

        qDiv.appendChild(qText);
        qDiv.appendChild(choices);
        qDiv.appendChild(checkBtn);
        qDiv.appendChild(feedback);
        qDiv.appendChild(explanation);
        quizDiv.appendChild(qDiv);
      });
      updateProgressBar();
    }

    function updateScore() {
      document.getElementById("score-display").innerText = "Score: " + score + "/" + currentQuestions.length;
    }

    function updateProgressBar() {
      const total = currentQuestions.length;
      const answered = document.querySelectorAll(".question[data-answered]").length;
      const progress = (answered / total) * 100;
      document.getElementById("progress-bar").style.width = progress + "%";
    }
  </script>
</body>
</html>
